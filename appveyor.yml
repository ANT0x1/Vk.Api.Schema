version: 0.0.1.{build}
image: Visual Studio 2017

skip_branch_with_pr: true

artifacts:
- path: artifacts\bin\Vk.Api.Schema\**\*.nupkg

before_build:
  - nuget restore Vk.Api.Schema.sln
  
build:
    project: Vk.Api.Schema.sln
    publish_nuget: true
    publish_nuget_symbols: false
    verbosity: minimal

deploy:
 - provider: NuGet
   api_key:
     secure: swbVO/mLDF9LqZnkMZJ2YDtPkdPyjQxrqLk79gYbBaT/fbhkmEGPEpuYZqyor9RK
   artifact: /.*\.nupkg/
   on:
     branch: master